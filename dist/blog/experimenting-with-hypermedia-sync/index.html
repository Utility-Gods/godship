<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.ico"><meta name="generator" content="Astro v4.16.19"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet"><!-- 100% privacy-first analytics --><script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script><title>Hypermedia Sync: What We Learned Building Real-Time UIs Without JSON | Utility Gods</title><link rel="canonical" href="https://www.utilitygods.com/blog/experimenting-with-hypermedia-sync/"><meta name="description" content="We built a system that syncs 10,000 checkboxes and a collaborative drawing canvas across browsers in real-time using only HTML fragments and Server-Sent Events. Here's what we learned about hypermedia-driven synchronization."><meta name="robots" content="index, follow"><meta property="og:title" content="Hypermedia Sync: What We Learned Building Real-Time UIs Without JSON | Utility Gods"><meta property="og:type" content="website"><meta property="og:image" content="https://www.utilitygods.com/blog/hypermedia.png"><meta property="og:url" content="https://www.utilitygods.com/blog/experimenting-with-hypermedia-sync/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="www.utilitygods.com"><meta name="twitter:creator" content="UtilityGods"><title>Hypermedia Sync: What We Learned Building Real-Time UIs Without JSON</title><link rel="stylesheet" href="/_astro/about.B9Xp0DWP.css">
<style>nav[data-astro-cid-5knycien] li[data-astro-cid-5knycien] a[data-astro-cid-5knycien]{position:relative}@media (min-width: 1024px){nav[data-astro-cid-5knycien] li[data-astro-cid-5knycien] a[data-astro-cid-5knycien]:after{content:"";position:absolute;bottom:0;left:50%;width:0;height:2px;background:#ef4444;transition:all .3s ease;transform:translate(-50%)}nav[data-astro-cid-5knycien] li[data-astro-cid-5knycien] a[data-astro-cid-5knycien]:hover:after,nav[data-astro-cid-5knycien] li[data-astro-cid-5knycien] a[data-astro-cid-5knycien][aria-current=page]:after{width:100%}}@font-face{font-family:Inter;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/inter-cyrillic-ext-400-normal.BQZuk6qB.woff2) format("woff2"),url(/_astro/inter-cyrillic-ext-400-normal.DQukG94-.woff) format("woff");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/inter-cyrillic-400-normal.obahsSVq.woff2) format("woff2"),url(/_astro/inter-cyrillic-400-normal.HOLc17fK.woff) format("woff");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/inter-greek-ext-400-normal.DGGRlc-M.woff2) format("woff2"),url(/_astro/inter-greek-ext-400-normal.KugGGMne.woff) format("woff");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/inter-greek-400-normal.B4URO6DV.woff2) format("woff2"),url(/_astro/inter-greek-400-normal.q2sYcFCs.woff) format("woff");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/inter-vietnamese-400-normal.DMkecbls.woff2) format("woff2"),url(/_astro/inter-vietnamese-400-normal.Bbgyi5SW.woff) format("woff");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/inter-latin-ext-400-normal.C1nco2VV.woff2) format("woff2"),url(/_astro/inter-latin-ext-400-normal.77YHD8bZ.woff) format("woff");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-display:swap;font-weight:400;src:url(/_astro/inter-latin-400-normal.C38fXH4l.woff2) format("woff2"),url(/_astro/inter-latin-400-normal.CyCys3Eg.woff) format("woff");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}:root{--accent: 136, 58, 234;--accent-light: 224, 204, 250;--accent-dark: 49, 10, 101;--accent-gradient: linear-gradient( 45deg, rgb(var(--accent)), rgb(var(--accent-light)) 30%, white 60% )}html{font-family:Roboto,system-ui,sans-serif;background:#fff;background-size:224px;scroll-behavior:smooth}h1,h2,h3,h4,h5,h6{font-family:Montserrat,system-ui,sans-serif}img{content-visibility:auto}html,body{width:100%;height:100%;margin:0;padding:0}
</style><script type="module" src="/_astro/hoisted.Bq5PsS9r.js"></script></head> <body class="font-roboto"> <div class="max-w-screen-xl mx-auto px-5">  <header class="flex flex-col lg:flex-row justify-between items-center my-5" data-astro-cid-5knycien> <div class="flex w-full lg:w-auto items-center justify-between" data-astro-cid-5knycien> <a href="/" class="text-2xl font-black text-slate-900 flex items-center gap-3" data-astro-cid-5knycien> <img src="/logo-removebg.png" alt="Utility Gods Logo" class="w-32 object-contain" data-astro-cid-5knycien> </a> <div class="block lg:hidden" data-astro-cid-5knycien> <button id="menu" aria-label="Toggle menu" class="text-slate-800 hover:text-red-500" data-astro-cid-5knycien> <svg width="1em" height="1em" class="w-6 h-6" data-astro-cid-5knycien data-icon="ph:list-bold">   <symbol id="ai:ph:list-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M228 128a12 12 0 0 1-12 12H40a12 12 0 0 1 0-24h176a12 12 0 0 1 12 12M40 76h176a12 12 0 0 0 0-24H40a12 12 0 0 0 0 24m176 104H40a12 12 0 0 0 0 24h176a12 12 0 0 0 0-24"/></symbol><use href="#ai:ph:list-bold"></use>  </svg> </button> </div> </div> <nav class="hidden w-full lg:w-auto mt-2 lg:flex lg:mt-0" id="navbar" data-astro-cid-5knycien> <ul class="flex flex-col lg:flex-row gap-3" data-astro-cid-5knycien> <li data-astro-cid-5knycien> <a href="/" class="flex lg:px-3 py-2 items-center gap-2 text-slate-600 hover:text-red-500 transition-colors" data-astro-cid-5knycien> <svg width="1em" height="1em" class="w-4 h-4 lg:hidden" data-astro-cid-5knycien data-icon="ph:house-bold">   <symbol id="ai:ph:house-bold" viewBox="0 0 256 256"><path fill="currentColor" d="m222.14 105.85l-80-80a20 20 0 0 0-28.28 0l-80 80A19.86 19.86 0 0 0 28 120v96a12 12 0 0 0 12 12h64a12 12 0 0 0 12-12v-52h24v52a12 12 0 0 0 12 12h64a12 12 0 0 0 12-12v-96a19.86 19.86 0 0 0-5.86-14.15M204 204h-40v-52a12 12 0 0 0-12-12h-48a12 12 0 0 0-12 12v52H52v-82.35l76-76l76 76Z"/></symbol><use href="#ai:ph:house-bold"></use>  </svg> <span data-astro-cid-5knycien>Home</span>  </a> </li><li data-astro-cid-5knycien> <a href="/about" class="flex lg:px-3 py-2 items-center gap-2 text-slate-600 hover:text-red-500 transition-colors" data-astro-cid-5knycien> <svg width="1em" height="1em" class="w-4 h-4 lg:hidden" data-astro-cid-5knycien data-icon="ph:info-bold">   <symbol id="ai:ph:info-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M108 84a16 16 0 1 1 16 16a16 16 0 0 1-16-16m128 44A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108m-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84m-72 36.68V132a20 20 0 0 0-20-20a12 12 0 0 0-4 23.32V168a20 20 0 0 0 20 20a12 12 0 0 0 4-23.32"/></symbol><use href="#ai:ph:info-bold"></use>  </svg> <span data-astro-cid-5knycien>About</span>  </a> </li><li data-astro-cid-5knycien> <a href="/services" class="flex lg:px-3 py-2 items-center gap-2 text-slate-600 hover:text-red-500 transition-colors" data-astro-cid-5knycien> <svg width="1em" height="1em" class="w-4 h-4 lg:hidden" data-astro-cid-5knycien data-icon="ph:stack-bold">   <symbol id="ai:ph:stack-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M234.36 170a12 12 0 0 1-4.36 16.37l-96 56a12 12 0 0 1-12.1 0l-96-56a12 12 0 0 1 12.09-20.74l90 52.48L218 165.63a12 12 0 0 1 16.36 4.37M218 117.63l-90 52.48l-89.95-52.48A12 12 0 0 0 26 138.37l96 56a12 12 0 0 0 12.1 0l96-56a12 12 0 0 0-12.1-20.74M20 80a12 12 0 0 1 6-10.37l96-56a12.06 12.06 0 0 1 12.1 0l96 56a12 12 0 0 1 0 20.74l-96 56a12 12 0 0 1-12.1 0l-96-56A12 12 0 0 1 20 80m35.82 0L128 122.11L200.18 80L128 37.89Z"/></symbol><use href="#ai:ph:stack-bold"></use>  </svg> <span data-astro-cid-5knycien>Services</span>  </a> </li><li data-astro-cid-5knycien> <a href="/team" class="flex lg:px-3 py-2 items-center gap-2 text-slate-600 hover:text-red-500 transition-colors" data-astro-cid-5knycien> <svg width="1em" height="1em" class="w-4 h-4 lg:hidden" data-astro-cid-5knycien data-icon="ph:users-bold">   <symbol id="ai:ph:users-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M125.18 156.94a64 64 0 1 0-82.36 0a100.23 100.23 0 0 0-39.49 32a12 12 0 0 0 19.35 14.2a76 76 0 0 1 122.64 0a12 12 0 0 0 19.36-14.2a100.33 100.33 0 0 0-39.5-32M44 108a40 40 0 1 1 40 40a40 40 0 0 1-40-40m206.1 97.67a12 12 0 0 1-16.78-2.57A76.31 76.31 0 0 0 172 172a12 12 0 0 1 0-24a40 40 0 1 0-10.3-78.67a12 12 0 1 1-6.16-23.19a64 64 0 0 1 57.64 110.8a100.23 100.23 0 0 1 39.49 32a12 12 0 0 1-2.57 16.73"/></symbol><use href="#ai:ph:users-bold"></use>  </svg> <span data-astro-cid-5knycien>Team</span>  </a> </li><li data-astro-cid-5knycien> <a href="/blog" class="flex lg:px-3 py-2 items-center gap-2 text-slate-600 hover:text-red-500 transition-colors" data-astro-cid-5knycien> <svg width="1em" height="1em" class="w-4 h-4 lg:hidden" data-astro-cid-5knycien data-icon="ph:newspaper-bold">   <symbol id="ai:ph:newspaper-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M92 108a12 12 0 0 1 12-12h72a12 12 0 0 1 0 24h-72a12 12 0 0 1-12-12m12 52h72a12 12 0 0 0 0-24h-72a12 12 0 0 0 0 24m132-96v120a28 28 0 0 1-28 28H36a32 32 0 0 1-32-32V88a12 12 0 0 1 24 0v92a8 8 0 0 0 16 0V64a20 20 0 0 1 20-20h152a20 20 0 0 1 20 20m-24 4H68v112a32 32 0 0 1-1 8h141a4 4 0 0 0 4-4Z"/></symbol><use href="#ai:ph:newspaper-bold"></use>  </svg> <span data-astro-cid-5knycien>Blog</span>  </a> </li><li data-astro-cid-5knycien> <a href="/testimonials" class="flex lg:px-3 py-2 items-center gap-2 text-slate-600 hover:text-red-500 transition-colors" data-astro-cid-5knycien> <svg width="1em" height="1em" class="w-4 h-4 lg:hidden" data-astro-cid-5knycien data-icon="ph:star-bold">   <symbol id="ai:ph:star-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M243 96a20.33 20.33 0 0 0-17.74-14l-56.59-4.57l-21.84-52.81a20.36 20.36 0 0 0-37.66 0L87.35 77.44L30.76 82a20.45 20.45 0 0 0-11.66 35.88l43.18 37.24l-13.2 55.7A20.37 20.37 0 0 0 79.57 233L128 203.19L176.43 233a20.39 20.39 0 0 0 30.49-22.15l-13.2-55.7l43.18-37.24A20.43 20.43 0 0 0 243 96m-70.47 45.7a12 12 0 0 0-3.84 11.86L181.58 208l-47.29-29.08a12 12 0 0 0-12.58 0L74.42 208l12.89-54.4a12 12 0 0 0-3.84-11.86l-42.27-36.5l55.4-4.47a12 12 0 0 0 10.13-7.38L128 41.89l21.27 51.5a12 12 0 0 0 10.13 7.38l55.4 4.47Z"/></symbol><use href="#ai:ph:star-bold"></use>  </svg> <span data-astro-cid-5knycien>Testimonials</span>  </a> </li><li data-astro-cid-5knycien> <a href="/contact" class="flex lg:px-3 py-2 items-center gap-2 text-slate-600 hover:text-red-500 transition-colors" data-astro-cid-5knycien> <svg width="1em" height="1em" viewBox="0 0 256 256" class="w-4 h-4 lg:hidden" data-astro-cid-5knycien data-icon="ph:envelope-bold">   <use href="#ai:ph:envelope-bold"></use>  </svg> <span data-astro-cid-5knycien>Contact</span>  </a> </li> <li data-astro-cid-5knycien> <a href="https://github.com/Utility-Gods" target="_blank" class="flex lg:px-3 py-2 items-center gap-2 text-slate-600 hover:text-red-500 transition-colors" data-astro-cid-5knycien> <svg width="1em" height="1em" viewBox="0 0 256 256" class="w-5 h-5" data-astro-cid-5knycien data-icon="ph:github-logo-bold">   <use href="#ai:ph:github-logo-bold"></use>  </svg> <span class="lg:hidden" data-astro-cid-5knycien>GitHub</span> </a> </li> </ul> </nav> </header>  </div>    <div class="max-w-screen-xl mx-auto px-5">  <div class="max-w-3xl mx-auto"> <span class="text-red-500 uppercase tracking-wider text-sm font-medium"> Experiments </span> <h1 class="text-4xl lg:text-5xl font-bold lg:tracking-tight mt-1 lg:leading-tight"> Hypermedia Sync: What We Learned Building Real-Time UIs Without JSON </h1> <div class="flex gap-2 mt-3 items-center flex-wrap md:flex-nowrap"> <span class="text-gray-400"> <svg width="1em" height="1em" class="w-4 h-4 inline-block" data-icon="ph:user-bold">   <symbol id="ai:ph:user-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M234.38 210a123.36 123.36 0 0 0-60.78-53.23a76 76 0 1 0-91.2 0A123.36 123.36 0 0 0 21.62 210a12 12 0 1 0 20.77 12c18.12-31.32 50.12-50 85.61-50s67.49 18.69 85.61 50a12 12 0 0 0 20.77-12M76 96a52 52 0 1 1 52 52a52.06 52.06 0 0 1-52-52"/></symbol><use href="#ai:ph:user-bold"></use>  </svg> Utility Gods Team </span> <span class="text-gray-400">•</span> <time class="text-gray-400" datetime="Sat Jul 12 2025 05:30:00 GMT+0530 (India Standard Time)"> <svg width="1em" height="1em" class="w-4 h-4 inline-block" data-icon="ph:calendar-bold">   <symbol id="ai:ph:calendar-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M208 28h-20v-4a12 12 0 0 0-24 0v4H92v-4a12 12 0 0 0-24 0v4H48a20 20 0 0 0-20 20v160a20 20 0 0 0 20 20h160a20 20 0 0 0 20-20V48a20 20 0 0 0-20-20M68 52a12 12 0 0 0 24 0h72a12 12 0 0 0 24 0h16v24H52V52ZM52 204V100h152v104Zm60-80v56a12 12 0 0 1-24 0v-36.68a12 12 0 0 1-9.37-22l16-8A12 12 0 0 1 112 124m61.49 33.88L163.9 168h4.1a12 12 0 0 1 0 24h-32a12 12 0 0 1-8.71-20.25L155.45 142a4 4 0 0 0 .55-2a4 4 0 0 0-7.47-2a12 12 0 0 1-20.78-12A28 28 0 0 1 180 140a27.77 27.77 0 0 1-5.64 16.86a11 11 0 0 1-.87 1.02"/></symbol><use href="#ai:ph:calendar-bold"></use>  </svg> July 12, 2025 </time> <span class="text-gray-400 hidden md:block">•</span> <div class="w-full md:w-auto flex flex-wrap gap-3"> <span class="text-sm text-gray-500">#hypermedia</span><span class="text-sm text-gray-500">#sync</span><span class="text-sm text-gray-500">#real-time</span><span class="text-sm text-gray-500">#sse</span><span class="text-sm text-gray-500">#htmx</span><span class="text-sm text-gray-500">#architecture</span> </div> </div> </div> <div class="mx-auto max-w-4xl mt-6"> <img src="/blog/hypermedia.png" alt="Hypermedia Sync: What We Learned Building Real-Time UIs Without JSON" class="rounded-xl" width="1200" height="600" loading="lazy" decoding="async"> </div> <div class="max-w-3xl mx-auto mt-6"> <div class="prose prose-lg mt-6 max-w-none">  <p>We’ve been pushing the limits of hypermedia-driven real-time synchronization, and the results surprised us. Our experiments sync <a href="https://hypermedia.utilitygods.com/experiments/checkboxes">10,000 checkboxes</a> and a <a href="https://hypermedia.utilitygods.com/experiments/canvas-draw-sync">collaborative drawing canvas</a> across multiple browser tabs instantly - no WebSockets, no JSON, just Server-Sent Events broadcasting tiny HTML snippets.</p>
<h2 id="the-core-pattern-we-discovered">The Core Pattern We Discovered</h2>
<p>The breakthrough was treating browsers as “dumb terminals” that just swap HTML fragments:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Click → Server → HTML fragment → SSE broadcast → DOM swap everywhere</span></span>
<span class="line"><span></span></span></code></pre>
<p>Instead of sending JSON data and letting clients figure out rendering, we send complete HTML from the server. Real-time updates become simple DOM replacements.</p>
<h2 id="what-we-built">What We Built</h2>
<p>We built two experiments to test the limits of hypermedia sync:</p>
<h3 id="experiment-1-10000-checkboxes"><a href="https://hypermedia.utilitygods.com/experiments/checkboxes">Experiment 1: 10,000 Checkboxes</a></h3>
<p>Manages 10,000 checkboxes. When you click one, all other connected browsers see the change instantly. Each update broadcasts about 50 bytes of HTML - just the affected checkbox element.</p>
<h3 id="experiment-2-collaborative-canvas"><a href="https://hypermedia.utilitygods.com/experiments/canvas-draw-sync">Experiment 2: Collaborative Canvas</a></h3>
<p>A shared drawing canvas where multiple users draw together in real-time. Here’s where it gets interesting - we’re not sending canvas pixel data. Instead, we broadcast drawing commands as HTML attributes, and each browser reconstructs the drawing locally.</p>
<p><strong>Pro tip:</strong> Open both experiments in multiple tabs/browsers and watch the magic happen.</p>
<h2 id="key-technical-insights">Key Technical Insights</h2>
<h3 id="1-targeted-updates-are-everything">1. Targeted Updates Are Everything</h3>
<p>The naive approach would broadcast entire page sections. Instead, we broadcast minimal HTML for specific elements:</p>
<p><strong>For checkboxes:</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="html"><code><span class="line"><span style="color:#6A737D">&#x3C;!-- Each element listens for its specific update --></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> id</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"item-1"</span><span style="color:#B392F0"> sse-swap</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"item-1-updated"</span><span style="color:#B392F0"> hx-swap</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"innerHTML"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> type</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"checkbox"</span><span style="color:#B392F0"> hx-post</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"/toggle/1"</span><span style="color:#B392F0"> hx-swap</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"none"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<p>When checkbox 1 changes, we only send:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="html"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> type</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"checkbox"</span><span style="color:#B392F0"> checked</span><span style="color:#B392F0"> hx-post</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"/toggle/1"</span><span style="color:#B392F0"> hx-swap</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"none"</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<p><strong>For the canvas:</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="html"><code><span class="line"><span style="color:#6A737D">&#x3C;!-- Canvas receives drawing commands as attributes --></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">canvas</span><span style="color:#B392F0"> id</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"canvas"</span></span>
<span class="line"><span style="color:#B392F0">        data-cmd</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"line"</span></span>
<span class="line"><span style="color:#B392F0">        data-x</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"150"</span></span>
<span class="line"><span style="color:#B392F0">        data-y</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"200"</span></span>
<span class="line"><span style="color:#B392F0">        data-color</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"#ff0000"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">canvas</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<p>Each drawing action broadcasts ~80 bytes containing the command and coordinates. The browser’s JavaScript reads these attributes and draws on the canvas.</p>
<p>This scales beautifully. Whether you have 10 checkboxes or 10,000, each update is still ~50-80 bytes.</p>
<h3 id="2-originator-filtering-prevents-chaos">2. Originator Filtering Prevents Chaos</h3>
<p>Without proper filtering, clicking a checkbox would update your own UI twice - once from your HTMX request and again from the SSE broadcast. Same problem with canvas - you’d see your drawing strokes duplicated.</p>
<p>We solved this by generating unique originator IDs:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="go"><code><span class="line"><span style="color:#6A737D">// Return nothing to the originating browser</span></span>
<span class="line"><span style="color:#F97583">return</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">NoContent</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">204</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Broadcast to everyone else</span></span>
<span class="line"><span style="color:#E1E4E8">hub.broadcast </span><span style="color:#F97583">&#x3C;-</span><span style="color:#B392F0"> Event</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">    Name:      </span><span style="color:#9ECBFF">"item-1-updated"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    Data:      html,</span></span>
<span class="line"><span style="color:#E1E4E8">    ExcludeID: originatorID,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>Your browser draws immediately (optimistic update), other browsers get the SSE broadcast. Everyone stays in sync, nobody sees duplicates.</p>
<h3 id="3-sse-data-formatting-is-critical">3. SSE Data Formatting Is Critical</h3>
<p>This was our biggest gotcha. SSE requires single-line data or proper multiline formatting:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="go"><code><span class="line"><span style="color:#6A737D">// ❌ Wrong: Multiline HTML breaks SSE parsing</span></span>
<span class="line"><span style="color:#E1E4E8">html </span><span style="color:#F97583">:=</span><span style="color:#9ECBFF"> `&#x3C;div></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;p>Content&#x3C;/p></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;/div>`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// ✅ Correct: Single line</span></span>
<span class="line"><span style="color:#E1E4E8">html </span><span style="color:#F97583">:=</span><span style="color:#9ECBFF"> `&#x3C;div>&#x3C;p>Content&#x3C;/p>&#x3C;/div>`</span></span>
<span class="line"></span></code></pre>
<p>Getting this wrong causes silent failures that are painful to debug.</p>
<h2 id="performance-characteristics">Performance Characteristics</h2>
<p>The results were better than expected:</p>
<ul>
<li><strong>Bandwidth</strong>: 50-80 bytes per update (checkbox or drawing stroke) vs 2KB+ for full section replacement</li>
<li><strong>Latency</strong>: Sub-100ms updates across browsers on decent connections</li>
<li><strong>Memory</strong>: Minimal client-side state (browsers are mostly stateless)</li>
<li><strong>CPU</strong>: Template rendering scales linearly with updates</li>
<li><strong>Drawing Performance</strong>: Canvas stays smooth even with 10+ concurrent users drawing</li>
</ul>
<p>The canvas experiment was the real surprise - we expected lag with multiple people drawing, but the optimistic updates + SSE broadcast pattern keeps it feeling instant.</p>
<h2 id="the-mental-model-shift">The Mental Model Shift</h2>
<p>Traditional approach:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Action → JSON → Client Processing → DOM Updates</span></span>
<span class="line"><span></span></span></code></pre>
<p>Hypermedia sync:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Action → HTML → Direct DOM Replacement</span></span>
<span class="line"><span></span></span></code></pre>
<p>The server becomes the single source of truth for how things should look. Clients never make UI decisions - they just swap HTML.</p>
<h2 id="real-world-application">Real-World Application</h2>
<p>We’ve since applied this pattern to production admin dashboards where teams need to see live status updates. The key insight: when UI consistency across users matters more than client-side performance, sending HTML fragments is surprisingly effective.</p>
<p>The 50-byte updates scale well. A typical dashboard with 20 live elements still only generates ~1KB of traffic per state change across all connected clients. Compare this to WebSocket implementations that often send full JSON payloads.</p>
<h2 id="limitations-we-hit">Limitations We Hit</h2>
<p><strong>SSE connection limits</strong>: Most browsers cap SSE connections at 6 per domain. For apps needing multiple real-time streams, this becomes a constraint.</p>
<p><strong>Template rendering cost</strong>: Every update triggers server-side template rendering. This works fine for &#x3C;100 concurrent users but requires caching strategies beyond that.</p>
<p><strong>Canvas state management</strong>: The canvas experiment taught us that some interactions need more than just HTML attributes. We ended up with a tiny bit of JavaScript to handle drawing state - but it’s way simpler than managing full client-side state in React/Vue.</p>
<p><strong>Mobile battery drain</strong>: Persistent SSE connections impact mobile battery life more than periodic polling for some use cases. Test on actual devices before shipping.</p>
<h2 id="try-it-yourself">Try It Yourself</h2>
<p>Check out both experiments and see hypermedia sync in action:</p>
<ul>
<li><strong><a href="https://hypermedia.utilitygods.com/experiments/checkboxes">10,000 Checkboxes</a></strong> - Open multiple tabs, click around, watch them stay perfectly synchronized</li>
<li><strong><a href="https://hypermedia.utilitygods.com/experiments/canvas-draw-sync">Collaborative Canvas</a></strong> - Grab a friend (or just open two tabs) and draw together in real-time</li>
</ul>
<p>The source code and architecture deep-dive are available in our <a href="https://github.com/utility-gods/hypermedia-sync">hypermedia-sync repository</a>.</p>
<hr>
<p><em>Have you experimented with hypermedia-driven real-time sync? We’d love to hear about your experiences. Reach out through our <a href="/contact">contact page</a>.</em></p>  </div> <div class="mt-8 flex flex-col md:flex-row justify-between items-center gap-4"> <a href="/blog" class="bg-gray-100 px-5 py-3 rounded-md hover:bg-gray-200 transition">← Back to Blog</a> <div class="flex items-center gap-4"> <span class="text-gray-500">Share:</span> <a href="https://twitter.com/intent/tweet?text=Hypermedia%20Sync%3A%20What%20We%20Learned%20Building%20Real-Time%20UIs%20Without%20JSON&url=https%3A%2F%2Fwww.utilitygods.com%2Fblog%2Fexperimenting-with-hypermedia-sync%2F" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-red-500"> <svg width="1em" height="1em" class="w-5 h-5" data-icon="ph:twitter-logo-bold">   <symbol id="ai:ph:twitter-logo-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M251.09 67.41A12 12 0 0 0 240 60h-28.18a52.73 52.73 0 0 0-43.67-24a50.85 50.85 0 0 0-36.6 14.85A51.87 51.87 0 0 0 116 88v.78c-36.83-11.57-66.38-40.9-66.7-41.23a12 12 0 0 0-20.47 7.38c-6.31 70.17 24.65 107.79 42.06 123.12C56.4 192.83 36 200.68 35.8 200.76a12 12 0 0 0-5.8 17.9C32 221.55 43.44 236 80 236c72.25 0 132.7-55.26 139.6-126.63l28.88-28.88a12 12 0 0 0 2.61-13.08m-51.57 28.11a11.93 11.93 0 0 0-3.49 7.72C192.14 164.23 141.18 212 80 212a91 91 0 0 1-12.49-.79C78 204.55 89.72 195.07 98 182.66a12 12 0 0 0-3.9-17c-.12-.07-12.33-7.49-23.43-24.42s-17.26-37-18.46-59.78C69.37 94.4 96 110.79 126 115.84A12 12 0 0 0 140 104V88a28 28 0 0 1 8.41-20.07A27.07 27.07 0 0 1 167.86 60a28.83 28.83 0 0 1 25.82 16.81a12 12 0 0 0 11 7.19H211Z"/></symbol><use href="#ai:ph:twitter-logo-bold"></use>  </svg> </a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.utilitygods.com%2Fblog%2Fexperimenting-with-hypermedia-sync%2F&title=Hypermedia%20Sync%3A%20What%20We%20Learned%20Building%20Real-Time%20UIs%20Without%20JSON" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-red-500"> <svg width="1em" height="1em" class="w-5 h-5" data-icon="ph:linkedin-logo-bold">   <symbol id="ai:ph:linkedin-logo-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M216 20H40a20 20 0 0 0-20 20v176a20 20 0 0 0 20 20h176a20 20 0 0 0 20-20V40a20 20 0 0 0-20-20m-4 192H44V44h168Zm-100-36v-56a12 12 0 0 1 21.43-7.41A40 40 0 0 1 192 148v28a12 12 0 0 1-24 0v-28a16 16 0 0 0-32 0v28a12 12 0 0 1-24 0m-16-56v56a12 12 0 0 1-24 0v-56a12 12 0 0 1 24 0M68 80a16 16 0 1 1 16 16a16 16 0 0 1-16-16"/></symbol><use href="#ai:ph:linkedin-logo-bold"></use>  </svg> </a> </div> </div> </div>  </div>  <footer class="mt-20 border-t border-slate-200"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"> <div class="grid grid-cols-1 md:grid-cols-4 gap-8"> <!-- Products Column --> <div> <h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4">
Products
</h3> <ul class="space-y-3"> <li> <a href="https://photoship.app" class="text-base text-gray-500 hover:text-red-500]">
Photoship
</a> </li> <li> <a href="https://orangegas.utilitygods.com" class="text-base text-gray-500 hover:text-red-500]">
Orange Gas
</a> </li> <li> <a href="https://github.com/Utility-Gods/qr-gen-ai" class="text-base text-gray-500 hover:text-red-500]">
QR Generator
</a> </li> </ul> </div> <!-- Developer Tools Column --> <div> <h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4">
Developer Tools
</h3> <ul class="space-y-3"> <li> <a href="https://github.com/Utility-Gods/go-htmx-templ-echo-air-tailwind" class="text-base text-gray-500 hover:text-red-500]">
Go HTMX Template
</a> </li> <li> <a href="https://github.com/Utility-Gods/python-fastapi-sqlchemy-htmx-tailwind" class="text-base text-gray-500 hover:text-red-500]">
FastAPI Template
</a> </li> <li> <a href="https://github.com/Utility-Gods/gottem" class="text-base text-gray-500 hover:text-red-500]">
Gottem CLI
</a> </li> </ul> </div> <!-- Company Column --> <div> <h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4">
Company
</h3> <ul class="space-y-3"> <li> <a href="/about" class="text-base text-gray-500 hover:text-red-500]">
About
</a> </li> <li> <a href="/team" class="text-base text-gray-500 hover:text-red-500]">
Team
</a> </li> <li> <a href="/blog" class="text-base text-gray-500 hover:text-red-500]">
Blog
</a> </li> <li> <a href="/contact" class="text-base text-gray-500 hover:text-red-500]">
Contact
</a> </li> <li> <a href="/fillo-privacy" class="text-base text-gray-500 hover:text-red-500]">
Privacy Policy
</a> </li> </ul> </div> <!-- Social Column --> <div> <h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4">
Connect
</h3> <ul class="flex flex-col space-y-3"> <li> <a href="https://github.com/Utility-Gods" class="text-gray-500 hover:text-red-500 flex items-center gap-2"> <svg width="1em" height="1em" class="w-5 h-5" data-icon="ph:github-logo-bold">   <symbol id="ai:ph:github-logo-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M212.62 75.17A63.7 63.7 0 0 0 206.39 26A12 12 0 0 0 196 20a63.71 63.71 0 0 0-50 24h-20a63.71 63.71 0 0 0-50-24a12 12 0 0 0-10.39 6a63.7 63.7 0 0 0-6.23 49.17A61.5 61.5 0 0 0 52 104v8a60.1 60.1 0 0 0 45.76 58.28A43.66 43.66 0 0 0 92 192v4H76a20 20 0 0 1-20-20a44.05 44.05 0 0 0-44-44a12 12 0 0 0 0 24a20 20 0 0 1 20 20a44.05 44.05 0 0 0 44 44h16v12a12 12 0 0 0 24 0v-40a20 20 0 0 1 40 0v40a12 12 0 0 0 24 0v-40a43.66 43.66 0 0 0-5.76-21.72A60.1 60.1 0 0 0 220 112v-8a61.5 61.5 0 0 0-7.38-28.83M196 112a36 36 0 0 1-36 36h-48a36 36 0 0 1-36-36v-8a37.87 37.87 0 0 1 6.13-20.12a11.65 11.65 0 0 0 1.58-11.49a39.9 39.9 0 0 1-.4-27.72a39.87 39.87 0 0 1 26.41 17.8a12 12 0 0 0 10.1 5.53h32.35a12 12 0 0 0 10.11-5.53a39.84 39.84 0 0 1 26.41-17.8a39.9 39.9 0 0 1-.4 27.72a12 12 0 0 0 1.61 11.53A37.85 37.85 0 0 1 196 104Z"/></symbol><use href="#ai:ph:github-logo-bold"></use>  </svg> <span>GitHub</span> </a> </li> <li> <a href="https://www.linkedin.com/company/utility-gods/" class="text-gray-500 hover:text-red-500 flex items-center gap-2"> <svg width="1em" height="1em" viewBox="0 0 256 256" class="w-5 h-5" data-icon="ph:linkedin-logo-bold">   <use href="#ai:ph:linkedin-logo-bold"></use>  </svg> <span>LinkedIn</span> </a> </li> <li> <a href="/contact" class="text-gray-500 hover:text-red-500 flex items-center gap-2"> <svg width="1em" height="1em" class="w-5 h-5" data-icon="ph:envelope-bold">   <symbol id="ai:ph:envelope-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M224 44H32a12 12 0 0 0-12 12v136a20 20 0 0 0 20 20h176a20 20 0 0 0 20-20V56a12 12 0 0 0-12-12m-96 83.72L62.85 68h130.3Zm-35.21.28L44 172.72V83.28Zm17.76 16.28l9.34 8.57a12 12 0 0 0 16.22 0l9.34-8.57l47.7 43.72H62.85ZM163.21 128L212 83.28v89.44Z"/></symbol><use href="#ai:ph:envelope-bold"></use>  </svg> <span>Email</span> </a> </li> </ul> </div> </div> <div class="mt-8 pt-8 border-t border-slate-200"> <p class="text-center text-base text-slate-500">
Copyright © 2025 Utility Gods. All rights reserved.
</p> <p class="text-center text-sm text-slate-400 mt-2">Built with ❤️</p> </div> </div> </footer>  </body> </html>